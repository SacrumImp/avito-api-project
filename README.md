# avito-api-project

Тестовове задание для Avito Backend Bootcamp

## Запуск

Запуск осуществляется при помощи docker-compose

`docker-compose build`

`docker-compose up -d`

## Возникаевшие вопросы

1. **Как выбрать ограничения для email и password в БД**
Ограничение на email обусловлено тем, что согласно стандарту RFC длина почты не должна превышать 254 символа.
В случае пароля ограничение выбрано исходя из того, какой длины выходная строка метода хеширования.

2. **Дата последнего "добавления" квартиры и её нейминг**
Строго говоря мы создаем это поле для того, чтобы организовать подписку, поэтому очевидно это поле должно содержать инофрмацию о **добавлении** новых квартир и называться соответствующей. Это реализовано в БД. В случае API я придерживался установленного в задании контракта, хотя поле updated_at (указано в properties объекта House) может ввести пользователя в заблуждение, обещая показывать дату любого обновления дома.

3. **Возможные коды ответа в методе dummyLogin**
Хоть в схеме и не прописано наличие кода 400 я его все же добавил, так как кажется, что при передачи роли отличающейся от двух заявленных следует показать пользователю, что такой ввод недопустим.

4. **Обработка ошибок с кодом 405**
Хоть в схеме явно не указано, но тем не менее добавил ко всем методами проверку на правильность указанного метода.

5. **использование ошибки 403 помимо 401**
В некоторых методах в схеме не указана возможность отправки кода 403, хотя, например, в случае метода /house/create строит возвращать ошибку именно с таким кодом для пользователей типа не moderator.

6. **Сохранение квартиры и формирование номера квартиры**
Кажется, что было бы логичнее вручную указывать номер квартиры, потому что в отличии от дома, где есть поле для реального адреса, у квартиры нет полей, характеризующих её положенике внутри дома. Есть только id, который не несет никакой смысловой информации, кроме ключа. Но всё же сделал иначе, отталкиваясь от контракта, описанного в API.